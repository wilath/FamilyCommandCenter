{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AddtaskComponent = class AddtaskComponent {\n  constructor(tasksService) {\n    this.tasksService = tasksService;\n    this.members = [];\n    this.whatDo = 'Task';\n    this.editor = '';\n    this.currentNumber = 534;\n    this.newMemberColor = '';\n    this.history = ['aa', 'bb'];\n    this.tasksService.getMemberListObs().subscribe(members => this.members = members);\n    this.tasksService.getHistoryListObs().subscribe(e => this.history = [...e].reverse());\n  }\n  ngOnInit() {\n    if (this.members.length > 0) {\n      this.editor = this.members[0].name;\n      this.tasksService.activeMember = this.editor;\n    }\n  }\n  editorChange() {\n    this.tasksService.activeMember = this.editor;\n  }\n  changeOption(el) {\n    if (el === this.whatDo) {\n      return;\n    }\n    if (this.whatDo === 'Task') {\n      this.whatDo = 'Member';\n    } else {\n      this.whatDo = 'Task';\n    }\n    const butts = document.querySelectorAll('.opt-but');\n    if (this.whatDo === 'Task') {\n      butts[0].classList.add('but-active');\n      butts[1].classList.remove('but-active');\n    } else {\n      butts[1].classList.add('but-active');\n      butts[0].classList.remove('but-active');\n    }\n  }\n  onSubmitTask(form) {\n    const task = {\n      id: this.currentNumber + 1,\n      name: form.value.name,\n      created: new Date(),\n      isDone: false,\n      member: form.value.for,\n      assignedBy: this.editor,\n      importance: form.value.urgent,\n      deadline: form.value.deadline\n    };\n    this.currentNumber++;\n    this.tasksService.add(task);\n  }\n  onSubmitMember(form) {\n    if (this.members.length === 6) {\n      return;\n    }\n    const member = {\n      name: form.value.name,\n      class: form.value.class,\n      color: this.newMemberColor\n    };\n    this.tasksService.addMember(member);\n  }\n  colorPick(e, n) {\n    const colors = document.querySelectorAll('.color-button');\n    for (let i = 0; i < 5; i++) {\n      colors[i].classList.remove('cb-border');\n    }\n    colors[n].classList.add('cb-border');\n    this.newMemberColor = e;\n  }\n};\nAddtaskComponent = __decorate([Component({\n  selector: 'app-addtask',\n  templateUrl: './addtask.component.html',\n  styleUrls: ['./addtask.component.css']\n})], AddtaskComponent);\nexport { AddtaskComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAiB,eAAe;AAY3C,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAU3BC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IARhC,YAAO,GAAiB,EAAE;IAC1B,WAAM,GAAsB,MAAM;IAClC,WAAM,GAAW,EAAE;IACnB,kBAAa,GAAW,GAAG;IAC3B,mBAAc,GAAU,EAAE;IAC1B,YAAO,GAAkB,CAAC,IAAI,EAAE,IAAI,CAAC;IAInC,IAAI,CAACA,YAAY,CAACC,gBAAgB,EAAE,CAACC,SAAS,CAAEC,OAAsB,IAAK,IAAI,CAACA,OAAO,GAAGA,OAAO,CAAC;IAClG,IAAI,CAACH,YAAY,CAACI,iBAAiB,EAAE,CAACF,SAAS,CAAEG,CAAC,IAAI,IAAI,CAACC,OAAO,GAAG,CAAC,GAAGD,CAAC,CAAC,CAACE,OAAO,EAAE,CAAC;EACxF;EAEAC,QAAQ;IACN,IAAG,IAAI,CAACL,OAAO,CAACM,MAAM,GAAG,CAAC,EAAC;MACzB,IAAI,CAACC,MAAM,GAAG,IAAI,CAACP,OAAO,CAAC,CAAC,CAAC,CAACQ,IAAI;MAClC,IAAI,CAACX,YAAY,CAACY,YAAY,GAAG,IAAI,CAACF,MAAM;;EAEhD;EACAG,YAAY;IACV,IAAI,CAACb,YAAY,CAACY,YAAY,GAAG,IAAI,CAACF,MAAM;EAC9C;EAEAI,YAAY,CAACC,EAAS;IACpB,IAAGA,EAAE,KAAK,IAAI,CAACC,MAAM,EAAC;MAAC;;IAEvB,IAAG,IAAI,CAACA,MAAM,KAAK,MAAM,EAAC;MACxB,IAAI,CAACA,MAAM,GAAG,QAAQ;KACvB,MAAI;MACH,IAAI,CAACA,MAAM,GAAG,MAAM;;IAGtB,MAAMC,KAAK,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,UAAU,CAAC;IAEnD,IAAG,IAAI,CAACH,MAAM,KAAK,MAAM,EAAC;MACxBC,KAAK,CAAC,CAAC,CAAC,CAACG,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;MACpCJ,KAAK,CAAC,CAAC,CAAC,CAACG,SAAS,CAACE,MAAM,CAAC,YAAY,CAAC;KACxC,MAAI;MACHL,KAAK,CAAC,CAAC,CAAC,CAACG,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;MACpCJ,KAAK,CAAC,CAAC,CAAC,CAACG,SAAS,CAACE,MAAM,CAAC,YAAY,CAAC;;EAG3C;EACAC,YAAY,CAACC,IAAY;IAEvB,MAAMC,IAAI,GAAU;MAClBC,EAAE,EAAE,IAAI,CAACC,aAAa,GAAG,CAAC;MAC1BhB,IAAI,EAAEa,IAAI,CAACI,KAAK,CAACjB,IAAI;MACrBkB,OAAO,EAAE,IAAIC,IAAI,EAAE;MACnBC,MAAM,EAAE,KAAK;MACbC,MAAM,EAAER,IAAI,CAACI,KAAK,CAACK,GAAG;MACtBC,UAAU,EAAE,IAAI,CAACxB,MAAM;MACvByB,UAAU,EAAEX,IAAI,CAACI,KAAK,CAACQ,MAAM;MAC7BC,QAAQ,EAAEb,IAAI,CAACI,KAAK,CAACS;KAGrB;IACF,IAAI,CAACV,aAAa,EAAE;IACpB,IAAI,CAAC3B,YAAY,CAACqB,GAAG,CAACI,IAAI,CAAC;EAC7B;EACAa,cAAc,CAACd,IAAY;IACzB,IAAG,IAAI,CAACrB,OAAO,CAACM,MAAM,KAAK,CAAC,EAAC;MAC3B;;IAEF,MAAMuB,MAAM,GAAY;MACtBrB,IAAI,EAAEa,IAAI,CAACI,KAAK,CAACjB,IAAI;MACrB4B,KAAK,EAAEf,IAAI,CAACI,KAAK,CAACW,KAAK;MACvBC,KAAK,EAAE,IAAI,CAACC;KACZ;IACF,IAAI,CAACzC,YAAY,CAAC0C,SAAS,CAACV,MAAM,CAAC;EACrC;EACAW,SAAS,CAACtC,CAAQ,EAAEuC,CAAS;IAC3B,MAAMC,MAAM,GAAE3B,QAAQ,CAACC,gBAAgB,CAAC,eAAe,CAAC;IACxD,KAAI,IAAI2B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAC;MACxBD,MAAM,CAACC,CAAC,CAAC,CAAC1B,SAAS,CAACE,MAAM,CAAC,WAAW,CAAC;;IAEzCuB,MAAM,CAACD,CAAC,CAAC,CAACxB,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;IACpC,IAAI,CAACoB,cAAc,GAAGpC,CAAC;EACzB;CACD;AAjFYP,gBAAgB,eAN5BD,SAAS,CAAC;EACTkD,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CAEtC,CAAC,GACWnD,gBAAgB,CAiF5B;SAjFYA,gBAAgB","names":["Component","AddtaskComponent","constructor","tasksService","getMemberListObs","subscribe","members","getHistoryListObs","e","history","reverse","ngOnInit","length","editor","name","activeMember","editorChange","changeOption","el","whatDo","butts","document","querySelectorAll","classList","add","remove","onSubmitTask","form","task","id","currentNumber","value","created","Date","isDone","member","for","assignedBy","importance","urgent","deadline","onSubmitMember","class","color","newMemberColor","addMember","colorPick","n","colors","i","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Sebastian\\Desktop\\Pages\\angapp\\src\\app\\components\\addtask\\addtask.component.ts"],"sourcesContent":["import { Component, OnInit, } from '@angular/core';\nimport { TasksService } from 'src/app/services/tasks.service';\nimport { Task } from 'src/app/model/task';\nimport { Member } from 'src/app/model/member';\nimport { NgForm } from '@angular/forms';\n\n@Component({\n  selector: 'app-addtask',\n  templateUrl: './addtask.component.html',\n  styleUrls: ['./addtask.component.css'] ,\n  \n})\nexport class AddtaskComponent implements OnInit {\n\n  members: Array<Member> =[];\n  whatDo: 'Task' | 'Member' = 'Task';\n  editor: string = '';\n  currentNumber: number = 534;\n  newMemberColor:string = ''\n  history: Array<string> = ['aa', 'bb']\n\n\n  constructor(private tasksService: TasksService){\n    this.tasksService.getMemberListObs().subscribe((members: Array<Member>) => this.members = members);\n    this.tasksService.getHistoryListObs().subscribe((e)=> this.history = [...e].reverse());   \n  }\n\n  ngOnInit(): void {\n    if(this.members.length > 0){\n      this.editor = this.members[0].name;\n      this.tasksService.activeMember = this.editor\n    }\n  }\n  editorChange(){\n    this.tasksService.activeMember = this.editor\n  }\n\n  changeOption(el:string){\n    if(el === this.whatDo){return}\n\n    if(this.whatDo === 'Task'){\n      this.whatDo = 'Member'\n    }else{\n      this.whatDo = 'Task'\n    }\n\n    const butts = document.querySelectorAll('.opt-but');\n\n    if(this.whatDo === 'Task'){\n      butts[0].classList.add('but-active');\n      butts[1].classList.remove('but-active');\n    }else{\n      butts[1].classList.add('but-active');\n      butts[0].classList.remove('but-active');\n      }\n     \n  }\n  onSubmitTask(form: NgForm){\n    \n    const task: Task = ({\n      id: this.currentNumber + 1,\n      name: form.value.name,\n      created: new Date(),\n      isDone: false,\n      member: form.value.for,\n      assignedBy: this.editor,\n      importance: form.value.urgent,\n      deadline: form.value.deadline\n      \n    \n    })\n    this.currentNumber++\n    this.tasksService.add(task);\n  }\n  onSubmitMember(form: NgForm){\n    if(this.members.length === 6){\n      return\n    }\n    const member: Member = ({\n      name: form.value.name,\n      class: form.value.class,\n      color: this.newMemberColor,\n    })\n    this.tasksService.addMember(member)\n  }\n  colorPick(e:string, n: number){\n    const colors =document.querySelectorAll('.color-button');\n    for(let i = 0; i < 5; i++){\n      colors[i].classList.remove('cb-border')\n    }\n    colors[n].classList.add('cb-border');\n    this.newMemberColor = e;\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}